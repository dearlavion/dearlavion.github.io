
#  Thread
> ‚ÄúA thread is the smallest worker in a program that follows a sequence of instructions step by step, and a program can have multiple threads running different tasks concurrently.‚Äù

‚úÖ Why:
- ‚ÄúSmallest worker‚Äù ‚Üí defines thread simply
- ‚ÄúSequence of instructions step by step‚Äù ‚Üí explains path of execution
- ‚ÄúMultiple threads running different tasks concurrently‚Äù ‚Üí shows purpose/use

# Process
> ‚ÄúA process is a running program with its own memory, while a thread is a lightweight worker inside a process that shares memory and follows a sequence of instructions.‚Äù

| Term        | Meaning                                                   | Key point                        |
| ----------- | --------------------------------------------------------- | -------------------------------- |
| **Program** | A set of instructions/code (like a file on your computer) | **Static**, just exists on disk  |
| **Process** | A program that is **running**                             | **Dynamic**, executing in memory |

# **Thread vs Process**

| Aspect         | Process                    | Thread                            |
| -------------- | -------------------------- | --------------------------------- |
| Definition     | Program in execution       | Execution unit inside a process   |
| Memory         | Separate memory space      | Shared memory (heap)              |
| Communication  | IPC (slow)                 | Shared variables (fast)           |
| Creation cost  | Heavy                      | Lightweight                       |
| Isolation      | Strong                     | Weak                              |
| Failure impact | One process crash ‚â† others | One thread crash can kill process |

## **Real-world analogy (easy to remember)**
### üè¢ Process = Office Building
### üë©‚Äçüíº Threads = Employees inside
- All employees share:
    - Office space
    - Documents
- If one employee makes a mess ‚Üí affects everyone
- Different buildings (processes) don‚Äôt share rooms

## **In Java:**
- Each Java application runs in **one JVM process
- JVM process contains **multiple threads

### Default threads:
- `main` thread
- Garbage Collector thread(s)
- JIT compiler thread(s)

When you write:
```
public static void main(String[] args) {
    System.out.println("Hello");
}
```
You are running on the **main thread**.

## Why do we need threads?
#### Without threads:
- Program does **one thing at a time
- UI freezes
- Poor CPU utilization

#### With threads:
- Parallel tasks
- Responsive applications
- Better performance on multi-core CPUs
 Example
```
// Thread 1: handle request
// Thread 2: read from DB
// Thread 3: write logs
```

## **Thread Lifecycle (Know the States)**
### States (high level)
1. **NEW** ‚Äì created but not started
2. **RUNNABLE** ‚Äì ready or running
3. **BLOCKED / WAITING** ‚Äì waiting for resource
4. **TERMINATED** ‚Äì finished execution

## Quick Lifecycle Story (30s Script)

> ‚ÄúA thread starts in the NEW state. Calling `start()` moves it to RUNNABLE, where the scheduler decides when it runs. It may become BLOCKED or WAITING if waiting for resources or another thread. Once `run()` finishes, it enters TERMINATED. Important methods include `start()`, `sleep()`, `join()`, and `interrupt()`. Calling `run()` directly does not start a new thread ‚Äî that‚Äôs a common trap.‚Äù
> 

```
class MyThread extends Thread {
    public void run() {
        System.out.println(Thread.currentThread().getName() + " is running");
    }
}

public class Test {
    public static void main(String[] args) throws InterruptedException {
        MyThread t1 = new MyThread();
        System.out.println("State after creation: " + t1.getState()); // NEW
        t1.start();
        System.out.println("State after start: " + t1.getState());    // RUNNABLE
        t1.join(); // Wait for t1 to finish
        System.out.println("State after join: " + t1.getState());     // TERMINATED
    }
}

```


| Method        | Purpose                                          | Notes                                                        |
| ------------- | ------------------------------------------------ | ------------------------------------------------------------ |
| `start()`     | Starts a new thread and calls `run()` internally | Must use to run concurrently                                 |
| `run()`       | Contains thread code                             | ‚ùå Calling directly runs in current thread, **no new thread** |
| `sleep(ms)`   | Pauses current thread temporarily                | Throws `InterruptedException`                                |
| `join()`      | Waits for another thread to finish               | Can specify timeout                                          |
| `interrupt()` | Signals a thread to stop waiting/sleeping        | Thread must handle `InterruptedException`                    |