
# Comparable vs Comparator

|Feature|Comparable|Comparator|
|---|---|---|
|Purpose|Natural order of the class|Custom order without changing class|
|Interface method|`compareTo()`|`compare(T o1, T o2)`|
|Stream usage|`.sorted()` (uses natural order)|`.sorted(Comparator.comparing(...))`|
|Modifying class|Yes, class must implement Comparable|No, class untouched|

### **Comparable**: natural ordering using `.sorted()
- **Natural ordering**: uses `Comparable` implementation of elements (like `String`, `Integer`)
```
List<String> names = List.of("Charlie", "Alice", "Bob");

List<String> sortedNames = names.stream()
                                .sorted()
                                .collect(Collectors.toList());

System.out.println(sortedNames); // [Alice, Bob, Charlie]

```
**Tip:** `String` and `Integer` implement `Comparable`, so `.sorted()` works naturally.


### **Comparator**: Custom Ordering 
- Use `.sorted(Comparator.comparing(...))` for **custom sort logic**

**Example 1:** Sort `User` by age
```
List<User> sortedByAge = users.stream()
                              .sorted(Comparator.comparing(User::getAge))
                              .collect(Collectors.toList());
```
Reverse order:
```
List<User> reverseAge = users.stream()
                             .sorted(Comparator.comparing(User::getAge).reversed())
                             .collect(Collectors.toList());
```

**Example 2:** Oldest and youngest users
```
Optional<User> oldest = users.stream()
                             .max(Comparator.comparing(User::getAge));

Optional<User> youngest = users.stream()
                               .min(Comparator.comparing(User::getAge));

```

# Streams Sorting
### What `.sorted(Comparator.comparing(...))` really expands to
This:
```
.sorted(Comparator.comparing(User::getAge))
```
is equivalent to:
```
.sorted((u1, u2) -> u1.getAge().compareTo(u2.getAge()))
```
And that is equivalent to:
```
Collections.sort(users, (u1, u2) -> u1.getAge() - u2.getAge());
```

### Ascending vs Descending
Ascending (default)
```
.sorted(Comparator.comparing(User::getAge))
```

Descending
```
.sorted(Comparator.comparing(User::getAge).reversed())
```

### Sorting by multiple fields (very common interview question)
Example: sort by age, then name
```
.sorted(
    Comparator.comparing(User::getAge)
              .thenComparing(User::getName)
)
```
Meaning:
1. Sort by age
2. If ages are equal â†’ sort by name